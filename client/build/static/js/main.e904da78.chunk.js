(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(34),s=n.n(a),o=(n(40),n(15)),i=n(4),r=n(2),j=n(18),l=n.n(j),b=(n(58),n(59),n(7)),d=function(){return console.log("common -> getToken"),console.log(localStorage.getItem("token")),localStorage.getItem("token")||null},u=function(){localStorage.removeItem("token"),localStorage.removeItem("user")},O=function(e,t){localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},m=n(0);var h=function(e){var t=Object(c.useState)(e),n=Object(o.a)(t,2),a=n[0],s=n[1];return{value:a,onChange:function(e){s(e.target.value)}}},x=function(e){var t=Object(r.g)(),n=Object(c.useState)(!1),a=Object(o.a)(n,2),s=a[0],i=a[1],j=h(""),d=h(""),u=Object(c.useState)(null),x=Object(o.a)(u,2),v=x[0],p=x[1];return Object(m.jsxs)("form",{children:[Object(m.jsxs)("fieldset",{children:[Object(m.jsx)("input",Object(b.a)(Object(b.a)({type:"text",name:"username"},j),{},{autoComplete:"new-password",required:!0})),Object(m.jsx)("span",{className:"bar"}),Object(m.jsx)("label",{children:"Username"})]}),Object(m.jsxs)("fieldset",{children:[Object(m.jsx)("input",Object(b.a)(Object(b.a)({type:"password",name:"password"},d),{},{autoComplete:"new-password",required:!0})),Object(m.jsx)("span",{className:"bar"}),Object(m.jsx)("label",{children:"Password"})]}),Object(m.jsx)("input",{type:"button",value:s?"Loading...":"Login",onClick:function(){p(null),i(!0),l.a.post("http://localhost:5000/users/signin",{username:j.value,password:d.value}).then((function(e){i(!1),O(e.data.token,e.data.user),t.push("/ovw-manager/Dashboard")})).catch((function(e){i(!1),e.response&&401===e.response.status?p(e.response.data.message):p("Something went wrong. Please try again later.")}))},disabled:s}),v&&Object(m.jsx)("small",{style:{color:"red"},children:v})]})},v=n(19),p=n(10),g=n(11),f=n(13),N=n(12),k=function(e){Object(f.a)(n,e);var t=Object(N.a)(n);function n(e){var c;return Object(p.a)(this,n),(c=t.call(this,e)).navigation=c.props,c}return Object(g.a)(n,[{key:"render",value:function(){var e=this.navigation;return Object(m.jsx)("div",{className:"navigation",children:Object(m.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(m.jsx)("li",{className:"nav-item  ".concat("/"===e.location.pathname?"active":""),children:Object(m.jsx)(i.b,{className:"nav-link",to:"/",children:"Home"})}),Object(m.jsx)("li",{className:"nav-item  ".concat("/about"===e.location.pathname?"active":""),children:Object(m.jsx)(i.b,{className:"nav-link",to:"/about",children:"About"})}),Object(m.jsx)("li",{className:"nav-item  ".concat("/login"===e.location.pathname?"active":""),children:Object(m.jsx)(i.b,{className:"nav-link",to:"/login",children:"Login"})})]})})})})})}}]),n}(c.Component),w=Object(r.h)(k),y=function(e){Object(f.a)(n,e);var t=Object(N.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("header",{children:[Object(m.jsx)("div",{className:"logoWrapper",children:Object(m.jsxs)(i.b,{className:"brand",to:"/",children:["Overworked ",Object(m.jsx)("span",{children:"Solutions"})]})}),Object(m.jsx)(w,{})]})}}]),n}(c.Component),C=Object(r.h)(y);c.Component,c.Component;var S=Object(r.h)((function(e){var t=function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}(),n=Object(r.g)();return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{children:["Welcome ",t.first_name,"!"]}),Object(m.jsx)("input",{type:"button",onClick:function(){u(),n.push("/login")},value:"Logout"}),Object(m.jsxs)("div",{className:"dashboard_container col-4",children:[Object(m.jsxs)("section",{className:"card",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("div",{className:"title",children:[Object(m.jsx)("h2",{children:"Website Editor"}),Object(m.jsx)("p",{className:"subtitle"})]}),Object(m.jsx)("div",{className:"media",children:Object(m.jsx)("figure",{})}),Object(m.jsx)("div",{className:"copy",children:"Edit your website using a custom built editor."})]}),Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)("div",{className:"link",children:Object(m.jsx)(i.b,{to:"/editor",children:"Edit Website"})}),Object(m.jsx)("div",{className:"icons"})]}),Object(m.jsx)("div",{role:"navigation"}),Object(m.jsx)("div",{className:"deck"})]}),Object(m.jsxs)("section",{className:"card",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("div",{className:"title",children:[Object(m.jsx)("h2",{children:"Content Management"}),Object(m.jsx)("p",{className:"subtitle"})]}),Object(m.jsx)("div",{className:"media",children:Object(m.jsx)("figure",{})}),Object(m.jsx)("div",{className:"copy",children:"Manage the content of your website with our custom built Content Management System."})]}),Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)("div",{className:"link",children:Object(m.jsx)(i.b,{to:"/content-management",children:"Manage Content"})}),Object(m.jsx)("div",{className:"icons"})]}),Object(m.jsx)("div",{role:"navigation"}),Object(m.jsx)("div",{className:"deck"})]})]})]})})),I=function(e){Object(f.a)(n,e);var t=Object(N.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"editor"})}}]),n}(c.Component),L=n(20),E=["component"];var M=function(e){var t=e.component,n=Object(L.a)(e,E);return Object(m.jsx)(r.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return d()?Object(m.jsx)(t,Object(b.a)({},e)):Object(m.jsx)(r.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},W=["component"];var A=function(e){var t=e.component,n=Object(L.a)(e,W);return Object(m.jsx)(r.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return d()?Object(m.jsx)(r.a,{to:{pathname:"/dashboard"}}):Object(m.jsx)(t,Object(b.a)({},e))}}))};var F=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=d();console.log("app.js token"),console.log(e),e?l.a.get("http://localhost:5000/verifyToken".concat(e)).then((function(e){O(e.data.token,e.data.user),a(!1)})).catch((function(e){console.log(e),u(),a(!1)})):console.log("token not in app.js")}),[]),n&&d()?Object(m.jsx)("main",{children:"Checking Authentication..."}):Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(C,{}),Object(m.jsx)("main",{children:Object(m.jsxs)(r.d,{children:[Object(m.jsx)(A,{path:"/login",exact:!0,component:function(){return Object(m.jsx)(x,{})}}),Object(m.jsx)(M,{path:"./ovw-manager/editor",exact:!0,component:function(){return Object(m.jsx)(I,{})}}),Object(m.jsx)(M,{path:"./ovw-manager/dashboard",exact:!0,component:function(){return Object(m.jsx)(S,{})}})]})})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};s.a.render(Object(m.jsx)(v.a,{domain:"twilight-star-2178.us.auth0.com",clientId:"Mf3G2QEWoeQHQ7ABY7c54ssLjyxgkX6D",redirectUri:window.location.origin,children:Object(m.jsx)(F,{})}),document.getElementById("root")),J()}},[[74,1,2]]]);
//# sourceMappingURL=main.e904da78.chunk.js.map
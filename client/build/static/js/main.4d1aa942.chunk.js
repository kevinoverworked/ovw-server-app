(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){e.exports={header:"header_header__1k4Oa",logoWrapper:"header_logoWrapper__1Nwbv",brand:"header_brand__WT4d7"}},38:function(e,t,a){e.exports={navigation:"navigation_navigation__3t7N6"}},4:function(e,t,a){e.exports={container:"dashboard_container__dJcQQ","col-4":"dashboard_col-4__9iNxo",card:"dashboard_card__OTU04",content:"dashboard_content__3Vtbx",title:"dashboard_title__33ZQY",copy:"dashboard_copy__2gVmB",footer:"dashboard_footer__3HAgj"}},43:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){e.exports={bar:"login_bar__3v8vS",highlight:"login_highlight__3g2Bv",inputHighlighter:"login_inputHighlighter__2dske"}},78:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(36),s=a.n(c),o=(a(43),a(16)),i=a(5),r=a(2),l=a(19),j=a.n(l),d=(a(61),a(62),a(8)),b=function(){return console.log("common -> getToken"),console.log(localStorage.getItem("token")),localStorage.getItem("token")||null},h=function(){localStorage.removeItem("token"),localStorage.removeItem("user")},u=function(e,t){localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},O=(a(63),a(0));var m=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),c=a[0],s=a[1];return{value:c,onChange:function(e){s(e.target.value)}}},v=function(e){var t=Object(r.g)(),a=Object(n.useState)(!1),c=Object(o.a)(a,2),s=c[0],i=c[1],l=m(""),b=m(""),h=Object(n.useState)(null),v=Object(o.a)(h,2),x=v[0],g=v[1];return Object(O.jsxs)("form",{children:[Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("input",Object(d.a)(Object(d.a)({type:"text",name:"username"},l),{},{autoComplete:"new-password",required:!0})),Object(O.jsx)("span",{className:"bar"}),Object(O.jsx)("label",{children:"Username"})]}),Object(O.jsxs)("fieldset",{children:[Object(O.jsx)("input",Object(d.a)(Object(d.a)({type:"password",name:"password"},b),{},{autoComplete:"new-password",required:!0})),Object(O.jsx)("span",{className:"bar"}),Object(O.jsx)("label",{children:"Password"})]}),Object(O.jsx)("input",{type:"button",value:s?"Loading...":"Login",onClick:function(){g(null),i(!0),j.a.post("http://localhost:5000/users/signin",{username:l.value,password:b.value}).then((function(e){i(!1),u(e.data.token,e.data.user),t.push("/ovw-manager/dashboard")})).catch((function(e){i(!1),e.response&&401===e.response.status?g(e.response.data.message):g("Something went wrong. Please try again later.")}))},disabled:s}),x&&Object(O.jsx)("small",{style:{color:"red"},children:x})]})},x=a(20),g=a(11),p=a(12),f=a(14),N=a(13),_=a(38),k=a.n(_),w=function(e){Object(f.a)(a,e);var t=Object(N.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).handleLogout=function(){h(),n.props.history.push("/login")},n.navigation=n.props,n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.navigation;return Object(O.jsx)("div",{className:k.a.navigation,children:Object(O.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(O.jsx)("li",{className:"nav-item  ".concat("/"===e.location.pathname?"active":""),children:Object(O.jsx)(i.b,{className:"nav-link",to:"/",children:"Login"})}),Object(O.jsx)("li",{className:"nav-item  ".concat("/dashboard"===e.location.pathname?"active":""),children:Object(O.jsx)(i.b,{className:"nav-link",to:"/ovw-manager/dashboard",children:"Dashboard"})}),Object(O.jsx)("li",{className:"nav-item  ".concat("/editor"===e.location.pathname?"active":""),children:Object(O.jsx)(i.b,{className:"nav-link",to:"/ovw-manager/editor",children:"Editor"})}),Object(O.jsx)("li",{className:"nav-item  ".concat("/"===e.location.pathname?"active":""),children:Object(O.jsx)(i.b,{className:"nav-link",onClick:this.handleLogout,children:"Logout"})})]})})})})}}]),a}(n.Component),y=Object(r.h)(w),S=a(22),C=a.n(S),I=function(e){Object(f.a)(a,e);var t=Object(N.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(O.jsxs)("header",{className:C.a.header,children:[Object(O.jsx)("div",{className:C.a.logoWrapper,children:Object(O.jsxs)(i.b,{className:C.a.brand,to:"/",children:["Overworked ",Object(O.jsx)("span",{children:"Solutions"})]})}),Object(O.jsx)(y,{})]})}}]),a}(n.Component),L=Object(r.h)(I),T=(n.Component,n.Component,a(4)),W=a.n(T);var E=Object(r.h)((function(e){var t=function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}();return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h1",{children:["Welcome ",t?t.first_name:"","!"]}),Object(O.jsxs)("div",{className:" ".concat(W.a.container," ").concat(W.a["col-4"]," "),children:[Object(O.jsxs)("section",{className:W.a.card,children:[Object(O.jsxs)("div",{className:W.a.content,children:[Object(O.jsxs)("div",{className:W.a.title,children:[Object(O.jsx)("h2",{children:"Website Editor"}),Object(O.jsx)("p",{className:W.a.subTitle})]}),Object(O.jsx)("div",{className:W.a.media,children:Object(O.jsx)("figure",{})}),Object(O.jsx)("div",{className:W.a.copy,children:"Edit your website using a custom built editor."})]}),Object(O.jsxs)("div",{className:W.a.footer,children:[Object(O.jsx)("div",{className:W.a.link,children:Object(O.jsx)(i.b,{to:"/editor",children:"Edit Website"})}),Object(O.jsx)("div",{className:"icons"})]}),Object(O.jsx)("div",{role:"navigation"}),Object(O.jsx)("div",{className:"deck"})]}),Object(O.jsxs)("section",{className:W.a.card,children:[Object(O.jsxs)("div",{className:W.a.content,children:[Object(O.jsxs)("div",{className:W.a.title,children:[Object(O.jsx)("h2",{children:"Content Management"}),Object(O.jsx)("p",{className:W.a.subTitle})]}),Object(O.jsx)("div",{className:W.a.media,children:Object(O.jsx)("figure",{})}),Object(O.jsx)("div",{className:W.a.copy,children:"Manage the content of your website with our custom built Content Management System."})]}),Object(O.jsxs)("div",{className:W.a.footer,children:[Object(O.jsx)("div",{className:W.a.link,children:Object(O.jsx)(i.b,{to:"/content-management",children:"Manage Content"})}),Object(O.jsx)("div",{className:"icons"})]}),Object(O.jsx)("div",{role:"navigation"}),Object(O.jsx)("div",{className:"deck"})]})]})]})})),Q=function(e){Object(f.a)(a,e);var t=Object(N.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"editor"})}}]),a}(n.Component);a(21);var B=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=b();console.log("app.js token"),console.log(e),e?j.a.get("http://localhost:5000/verifyToken".concat(e)).then((function(e){u(e.data.token,e.data.user),c(!1)})).catch((function(e){console.log(e),h(),c(!1)})):console.log("token not in app.js")}),[]),a&&b()?Object(O.jsx)("main",{children:"Checking Authentication..."}):Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(i.a,{children:[Object(O.jsx)(L,{}),Object(O.jsx)("main",{children:Object(O.jsxs)(r.d,{children:[Object(O.jsx)(r.b,{path:"/",exact:!0,component:function(){return Object(O.jsx)(v,{})}}),Object(O.jsxs)(i.a,{basename:"/ovw-manager",children:[Object(O.jsx)(r.b,{path:"/ovw-manager/editor",exact:!0,component:function(){return Object(O.jsx)(Q,{})}}),Object(O.jsx)(r.b,{path:"/ovw-manager/dashboard",exact:!0,component:function(){return Object(O.jsx)(E,{})}})]})]})})]})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};s.a.render(Object(O.jsx)(x.a,{domain:"twilight-star-2178.us.auth0.com",clientId:"Mf3G2QEWoeQHQ7ABY7c54ssLjyxgkX6D",redirectUri:window.location.origin,children:Object(O.jsx)(B,{})}),document.getElementById("root")),J()}},[[78,1,2]]]);
//# sourceMappingURL=main.4d1aa942.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(34),s=n.n(a),i=(n(40),n(15)),o=n(4),r=n(2),l=n(18),j=n.n(l),b=(n(58),n(59),n(7)),d=function(){return console.log("common -> getToken"),console.log(localStorage.getItem("token")),localStorage.getItem("token")||null},u=function(){localStorage.removeItem("token"),localStorage.removeItem("user")},O=function(e,t){localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},m=n(0);var h=function(e){var t=Object(c.useState)(e),n=Object(i.a)(t,2),a=n[0],s=n[1];return{value:a,onChange:function(e){s(e.target.value)}}},x=function(e){var t=Object(r.g)(),n=Object(c.useState)(!1),a=Object(i.a)(n,2),s=a[0],o=a[1],l=h(""),d=h(""),u=Object(c.useState)(null),x=Object(i.a)(u,2),p=x[0],v=x[1];return Object(m.jsxs)("form",{children:[Object(m.jsxs)("fieldset",{children:[Object(m.jsx)("input",Object(b.a)(Object(b.a)({type:"text",name:"username"},l),{},{autoComplete:"new-password",required:!0})),Object(m.jsx)("span",{className:"bar"}),Object(m.jsx)("label",{children:"Username"})]}),Object(m.jsxs)("fieldset",{children:[Object(m.jsx)("input",Object(b.a)(Object(b.a)({type:"password",name:"password"},d),{},{autoComplete:"new-password",required:!0})),Object(m.jsx)("span",{className:"bar"}),Object(m.jsx)("label",{children:"Password"})]}),Object(m.jsx)("input",{type:"button",value:s?"Loading...":"Login",onClick:function(){v(null),o(!0),j.a.post("http://localhost:5000/users/signin",{username:l.value,password:d.value}).then((function(e){o(!1),O(e.data.token,e.data.user),t.push("/dashboard")})).catch((function(e){o(!1),e.response&&401===e.response.status?v(e.response.data.message):v("Something went wrong. Please try again later.")}))},disabled:s}),p&&Object(m.jsx)("small",{style:{color:"red"},children:p})]})},p=n(19);var v=Object(r.h)((function(e){var t=function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}(),n=Object(r.g)();return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{children:["Welcome ",t.first_name,"!"]}),Object(m.jsx)("input",{type:"button",onClick:function(){u(),n.push("/login")},value:"Logout"}),Object(m.jsxs)("div",{className:"dashboard_container col-4",children:[Object(m.jsxs)("section",{className:"card",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("div",{className:"title",children:[Object(m.jsx)("h2",{children:"Website Editor"}),Object(m.jsx)("p",{className:"subtitle"})]}),Object(m.jsx)("div",{className:"media",children:Object(m.jsx)("figure",{})}),Object(m.jsx)("div",{className:"copy",children:"Edit your website using a custom built editor."})]}),Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)("div",{className:"link",children:Object(m.jsx)(o.b,{to:"/editor",children:"Edit Website"})}),Object(m.jsx)("div",{className:"icons"})]}),Object(m.jsx)("div",{role:"navigation"}),Object(m.jsx)("div",{className:"deck"})]}),Object(m.jsxs)("section",{className:"card",children:[Object(m.jsxs)("div",{className:"content",children:[Object(m.jsxs)("div",{className:"title",children:[Object(m.jsx)("h2",{children:"Content Management"}),Object(m.jsx)("p",{className:"subtitle"})]}),Object(m.jsx)("div",{className:"media",children:Object(m.jsx)("figure",{})}),Object(m.jsx)("div",{className:"copy",children:"Manage the content of your website with our custom built Content Management System."})]}),Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)("div",{className:"link",children:Object(m.jsx)(o.b,{to:"/content-management",children:"Manage Content"})}),Object(m.jsx)("div",{className:"icons"})]}),Object(m.jsx)("div",{role:"navigation"}),Object(m.jsx)("div",{className:"deck"})]})]})]})})),g=n(10),f=n(11),y=n(13),N=n(12),k=function(e){Object(y.a)(n,e);var t=Object(N.a)(n);function n(e){var c;return Object(g.a)(this,n),(c=t.call(this,e)).navigation=c.props,c}return Object(f.a)(n,[{key:"render",value:function(){var e=this.navigation;return Object(m.jsx)("div",{className:"navigation",children:Object(m.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(m.jsx)("li",{className:"nav-item  ".concat("/"===e.location.pathname?"active":""),children:Object(m.jsx)(o.b,{className:"nav-link",to:"/",children:"Home"})}),Object(m.jsx)("li",{className:"nav-item  ".concat("/about"===e.location.pathname?"active":""),children:Object(m.jsx)(o.b,{className:"nav-link",to:"/about",children:"About"})}),Object(m.jsx)("li",{className:"nav-item  ".concat("/login"===e.location.pathname?"active":""),children:Object(m.jsx)(o.b,{className:"nav-link",to:"/login",children:"Login"})})]})})})})})}}]),n}(c.Component),w=Object(r.h)(k),S=function(e){Object(y.a)(n,e);var t=Object(N.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("header",{children:[Object(m.jsx)("div",{className:"logoWrapper",children:Object(m.jsxs)(o.b,{className:"brand",to:"/",children:["Overworked ",Object(m.jsx)("span",{children:"Solutions"})]})}),Object(m.jsx)(w,{})]})}}]),n}(c.Component),C=Object(r.h)(S),I=function(e){Object(y.a)(n,e);var t=Object(N.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"home",children:Object(m.jsxs)("div",{class:"container",children:[Object(m.jsx)("h1",{class:"font-weight-light",children:"Home"}),Object(m.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."})]})})}}]),n}(c.Component),L=function(e){Object(y.a)(n,e);var t=Object(N.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"about",children:Object(m.jsx)("div",{class:"container",children:Object(m.jsxs)("div",{class:"row align-items-center my-5",children:[Object(m.jsx)("div",{class:"col-lg-7",children:Object(m.jsx)("img",{class:"img-fluid rounded mb-4 mb-lg-0",src:"http://placehold.it/900x400",alt:""})}),Object(m.jsxs)("div",{class:"col-lg-5",children:[Object(m.jsx)("h1",{class:"font-weight-light",children:"About"}),Object(m.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."})]})]})})})}}]),n}(c.Component),E=n(20),A=["component"];var M=function(e){var t=e.component,n=Object(E.a)(e,A);return Object(m.jsx)(r.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return d()?Object(m.jsx)(t,Object(b.a)({},e)):Object(m.jsx)(r.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},W=["component"];var F=function(e){var t=e.component,n=Object(E.a)(e,W);return Object(m.jsx)(r.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return d()?Object(m.jsx)(r.a,{to:{pathname:"/dashboard"}}):Object(m.jsx)(t,Object(b.a)({},e))}}))};var J=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=d();console.log("app.js token"),console.log(e),e?j.a.get("http://localhost:5000/verifyToken".concat(e)).then((function(e){O(e.data.token,e.data.user),a(!1)})).catch((function(e){console.log(e),u(),a(!1)})):console.log("token not in app.js")}),[]),n&&d()?Object(m.jsx)("main",{children:"Checking Authentication..."}):Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(o.a,{children:[Object(m.jsx)(C,{}),Object(m.jsx)("main",{children:Object(m.jsxs)(r.d,{children:[Object(m.jsx)(r.b,{path:"/",exact:!0,component:function(){return Object(m.jsx)(I,{})}}),Object(m.jsx)(F,{path:"/about",exact:!0,component:function(){return Object(m.jsx)(L,{})}}),Object(m.jsx)(F,{path:"/login",exact:!0,component:function(){return Object(m.jsx)(x,{})}}),Object(m.jsx)(M,{path:"/dashboard",exact:!0,component:function(){return Object(m.jsx)(v,{})}})]})})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};s.a.render(Object(m.jsx)(p.a,{domain:"twilight-star-2178.us.auth0.com",clientId:"Mf3G2QEWoeQHQ7ABY7c54ssLjyxgkX6D",redirectUri:window.location.origin,children:Object(m.jsx)(J,{})}),document.getElementById("root")),P()}},[[74,1,2]]]);
//# sourceMappingURL=main.b8175c26.chunk.js.map